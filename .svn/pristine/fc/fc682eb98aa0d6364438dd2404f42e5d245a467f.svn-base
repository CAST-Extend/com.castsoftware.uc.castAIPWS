<?jelly escape-by-default='true'?>
<j:jelly xmlns:j="jelly:core" xmlns:st="jelly:stapler" xmlns:d="jelly:define" xmlns:l="/lib/layout" xmlns:t="/lib/hudson" xmlns:f="/lib/form">

	<f:section title="CAST Batch Web Service Connection Information" >
		<f:entry title="Delivery Web Service Address" field="dmtWebServiceAddress">
		    <f:textbox />
		</f:entry>
		<f:entry title="Analysis Web Service Address" field="cmsWebServiceAddress">
		   <f:textbox />
		</f:entry>
		<f:validateButton
		   title="Test Connection" progress="Testing..."
		   method="testConnection" with="dmtWebServiceAddress,cmsWebServiceAddress" />
  	</f:section>
  
	<f:section title="Application Configuration Information" >
		<f:entry title="Application Name" field="appName">
		    <f:select />
		</f:entry>
		<f:entry title="Reference Version" field="referenceVersion">
		    <f:select />
		</f:entry>
		<f:entry title="Version Name" field="versionName">
		    <f:textbox default="Version [TODAY]"/>
		</f:entry>
		<f:entry title="Cast-MS Connection Profile" field="castMSConnectionProfile">
			<f:select />
		</f:entry>
		<!--f:entry title="Cast-MS Central Schema Prefix" field="castCentralDB"-->
		<f:entry title="Schema Prefix" field="schemaPrefix" description="">
			<f:textbox />
		</f:entry>
		<f:entry title="Measurement Schema Name" field="aadSchemaName">
			<f:textbox />
		</f:entry>
		<f:entry title="Last Run Date" >
			<f:readOnlyTextbox field="lastRunDate" value="${instance.getlastRunDate()}"/>
		</f:entry>
  	</f:section>

 	<f:section title="Analysis Workflow" >
		<f:entry field="aw" />
		<f:block>
    		<f:optionalBlock field="backupBlock" title="Backup CAST Application Database Set" checked="${instance.backup}"/>    
		</f:block>  
		<f:block>
    		<f:optionalBlock field="daBlock" title="Deliver Application" checked="${instance.da}"/>    
		</f:block>  
		<f:block>
    		<f:optionalBlock field="adBlock" title="Accept Delivery" checked="${instance.ad}"/>    
		</f:block>  
		<f:block>
    		<f:optionalBlock field="raBlock" title="Run Analysis" checked="${instance.ra}"/>	  
		</f:block>  
		<f:block>
    		<f:optionalBlock field="rsBlock" title="Run Snapshot" checked="${instance.rs}"/>
			<f:entry title="Snapshot Retention policy" field="retentionPolicy">
				<f:select />
			</f:entry>    			  
		</f:block>  
		<f:block>
    		<f:optionalBlock field="ravBlock" title="Run Snapshot Validation" checked="${instance.rav}"/>	  
		</f:block>  
		<f:block>
    		<f:optionalBlock field="publishBlock" title="Publish Snapshot to AAD" checked="${instance.publish}"/>	  
		</f:block>  
		<f:block>
    		<f:optionalBlock field="optimizeBlock" title="CSS Optimize" checked="${instance.optimize}"/>	  
		</f:block>  
		<f:block>
    		<f:optionalBlock field="archiveBlock" title="Archive Delivery" checked="${instance.archive}"/>	  
		</f:block>  
	    <f:entry name="workFlow" title="Stop the build in case of Errors:" field="workFlow">
		  <select name="workFlow">
	        <j:forEach var="type" items="Yes, No">
			  <f:option selected="${type==instance.getWorkFlow()}" value="${type}">${type}</f:option>
			</j:forEach>
		  </select>
	    </f:entry>
   	</f:section>
</j:jelly>
